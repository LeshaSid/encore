Project Path: encore

Source Tree:

```txt
encore
├── Dockerfile
├── booking
│   ├── __init__.py
│   ├── admin.py
│   ├── apps.py
│   ├── forms.py
│   ├── migrations
│   │   ├── 0001_initial.py
│   │   └── __init__.py
│   ├── models.py
│   ├── templates
│   │   └── booking
│   │       ├── bookPage.html
│   │       └── templatePage.html
│   ├── tests.py
│   ├── urls.py
│   └── views.py
├── config
│   ├── __init__.py
│   ├── asgi.py
│   ├── settings.py
│   ├── urls.py
│   └── wsgi.py
├── core
│   ├── __init__.py
│   ├── admin.py
│   ├── apps.py
│   ├── forms.py
│   ├── migrations
│   │   ├── 0001_initial.py
│   │   └── __init__.py
│   └── models.py
├── docker-compose.yml
├── manage.py
└── requirements.txt

```

`Dockerfile`:

```
FROM python:3.11-slim

WORKDIR /app

ENV PYTHONDONTWRITEBYTECODE=1
ENV PYTHONUNBUFFERED=1

RUN apt-get update \
    && apt-get install -y gcc libpq-dev \
    && rm -rf /var/lib/apt/lists/*

COPY requirements.txt .
RUN pip install --upgrade pip \
    && pip install -r requirements.txt

COPY . .

EXPOSE 8000

CMD ["python", "manage.py", "runserver", "0.0.0.0:8000"]

```

`booking/admin.py`:

```py
from django.contrib import admin

# Register your models here.

```

`booking/apps.py`:

```py
from django.apps import AppConfig


class BookingConfig(AppConfig):
    name = 'booking'

```

`booking/forms.py`:

```py
from .models import Rehearsals, Bands, Concerts
from django.forms import ModelForm, TextInput, DateTimeInput


class RehearsalsForm(ModelForm):
    class Meta():
        model = Rehearsals
        fields = ["band_id", "rehearsal_date", "duration", "location"]

        widgets = {            
            "band_id": TextInput(attrs={
                "class": "form-control",
                "placeholder": "Enter band id"
            }), 
            "rehearsal_date": DateTimeInput(attrs={
                "class": "form-control",
                "placeholder": "Enter date"
            }),
            "duration": TextInput(attrs={
                "class": "form-control",
                "placeholder": "Enter duration"
            }),
            "location": TextInput(attrs={
                "class": "form-control",
                "placeholder": "Enter location"
            })
        }
```

`booking/migrations/0001_initial.py`:

```py
# Generated by Django 6.0 on 2025-12-15 15:09

from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='Band_membership',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('band_id', models.IntegerField(verbose_name='Band id')),
                ('musician_id', models.IntegerField(verbose_name='Musician id')),
                ('join_date', models.DateTimeField(verbose_name='Joined')),
            ],
        ),
        migrations.CreateModel(
            name='Bands',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('band_name', models.CharField(max_length=100, verbose_name='Band name')),
                ('genre', models.CharField(max_length=50, verbose_name='Duration')),
                ('founded_date', models.DateTimeField(verbose_name='Founded')),
            ],
        ),
        migrations.CreateModel(
            name='Concerts',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('concert_title', models.CharField(max_length=200, verbose_name='Title')),
                ('venue_address', models.CharField(max_length=255, verbose_name='Address')),
                ('concert_date', models.DateTimeField(verbose_name='Date')),
            ],
        ),
        migrations.CreateModel(
            name='Musicians',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('first_name', models.CharField(max_length=50, verbose_name='First name')),
                ('last_name', models.CharField(max_length=50, verbose_name='Last name')),
                ('phone', models.CharField(max_length=20, verbose_name='Phone')),
                ('telegram', models.CharField(max_length=100, verbose_name='Telegram')),
                ('instrument', models.CharField(max_length=100, verbose_name='Instrument')),
            ],
        ),
        migrations.CreateModel(
            name='Performances',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('band_id', models.IntegerField(verbose_name='Band id')),
                ('concert_id', models.IntegerField(verbose_name='Concert id')),
                ('performance_order', models.IntegerField(verbose_name='Performance order')),
            ],
        ),
        migrations.CreateModel(
            name='Rehearsals',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('band_id', models.IntegerField(verbose_name='band id')),
                ('rehearsal_date', models.DateTimeField(verbose_name='Date & time')),
                ('duration', models.IntegerField(verbose_name='Duration')),
                ('location', models.CharField(max_length=255, verbose_name='Location')),
            ],
        ),
    ]

```

`booking/models.py`:

```py
from django.db import models


class Rehearsals(models.Model):
    band_id = models.IntegerField("band id")
    rehearsal_date = models.DateTimeField("Date & time")
    duration = models.IntegerField("Duration")
    location = models.CharField("Location", max_length=255)

    class Meta():
        db_table = "rehearsals"
        managed = False

    def __str__(self):
        return self.rehearsal_date.__str__()
    

class Bands(models.Model):
    band_name = models.CharField("Band name", max_length=100)
    genre = models.CharField("Duration", max_length=50)
    founded_date = models.DateTimeField("Founded")

    class Meta():
        db_table = "bands"
        managed = False

    def __str__(self):
        return self.band_name
    

class Band_membership(models.Model):
    band_id = models.IntegerField("Band id")
    musician_id = models.IntegerField("Musician id")
    join_date = models.DateTimeField("Joined")

    class Meta():
        db_table = "band_membership"
        managed = False

    def __str__(self):
        return self.band_id
    

class Musicians(models.Model):
    first_name = models.CharField("First name", max_length=50)
    last_name = models.CharField("Last name", max_length=50)
    phone = models.CharField("Phone", max_length=20)
    telegram = models.CharField("Telegram", max_length=100)
    instrument = models.CharField("Instrument", max_length=100)

    class Meta():
        db_table = "musicians"
        managed = False

    def __str__(self):
        return f"{self.first_name} {self.last_name}"


class Performances(models.Model):
    band_id = models.IntegerField("Band id")
    concert_id = models.IntegerField("Concert id")
    performance_order = models.IntegerField("Performance order")

    class Meta():
        db_table = "performances"
        managed = False

    def __str__(self):
        return self.band_id


class Concerts(models.Model):
    concert_title = models.CharField("Title", max_length=200)
    venue_address = models.CharField("Address", max_length=255)
    concert_date = models.DateTimeField("Date")

    class Meta():
        db_table = "concerts"
        managed = False

    def __str__(self):
        return self.concert_title
```

`booking/templates/booking/bookPage.html`:

```html
{% extends "booking/templatePage.html" %}

{% block title %}
Бронь
{% endblock %}


{% block content %}
    <h1>Бронь</h1>
    <form method="post" action="">
        {% csrf_token %}

        {{ form.band_id }}<br>
        {{ form.rehearsal_date }}<br>
        {{ form.duration }}<br>
        {{ form.location }}<br>

        <span>{{ error }}</span><br>

        <!--<input type="text" placeholder="Enter date you want to book repetition" class="form-control" name="" id="">-->
        <button type="submit" class="btn btn-success">Send</button>
    </form>

    <ul>
        {% for el in rehearsals %}
            <li>{{ el.band_id }}</li>
        {% endfor %}
    </ul>
{% endblock %}
```

`booking/templates/booking/templatePage.html`:

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% endblock %}</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>
<body>
    <div class="container">
        {% block content %}{% endblock %}
    </div>
</body>
</html>
```

`booking/tests.py`:

```py
from django.test import TestCase

# Create your tests here.

```

`booking/urls.py`:

```py
from django.urls import path
from . import views


urlpatterns = [
    path('', views.book),
]

```

`booking/views.py`:

```py
from django.shortcuts import render, redirect
from .models import Rehearsals
from .forms import RehearsalsForm


def book(request):
    error = ""
    if request.method == "POST":
        form = RehearsalsForm(request.POST)
        if form.is_valid():
            data = form.save(commit=False)
            
            form.save()
        else:
            error = "Incorrect form"
        return redirect('/book')


    form = RehearsalsForm()

    rehearsals = Rehearsals.objects.all()

    data = {
        "form": form,
        "error": error,
        "rehearsals": rehearsals
    }


    return render(request, "booking/bookPage.html", data)
```

`config/asgi.py`:

```py
"""
ASGI config for config project.
"""

import os
from django.core.asgi import get_asgi_application

os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'config.settings')

application = get_asgi_application()

```

`config/settings.py`:

```py
"""
Django settings for config project.
"""

import os
from pathlib import Path

BASE_DIR = Path(__file__).resolve().parent.parent

SECRET_KEY = os.environ.get('SECRET_KEY', 'django-insecure-dev-key')
DEBUG = True
ALLOWED_HOSTS = ['*']

INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    'core.apps.CoreConfig',  # Правильный путь к конфигурации
]

MIDDLEWARE = [
    'django.middleware.security.SecurityMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.middleware.common.CommonMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.messages.middleware.MessageMiddleware',
    'django.middleware.clickjacking.XFrameOptionsMiddleware',
]

ROOT_URLCONF = 'config.urls'

TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [],
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.debug',
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]

WSGI_APPLICATION = 'config.wsgi.application'

DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql',
        'NAME': 'concerts_and_rehearsals',
        'USER': 'postgres',
        'PASSWORD': 'postgres',
        'HOST': 'db',
        'PORT': '5432',
    }
}

AUTH_PASSWORD_VALIDATORS = []

LANGUAGE_CODE = 'en-us'
TIME_ZONE = 'UTC'
USE_I18N = True
USE_TZ = True

STATIC_URL = 'static/'
DEFAULT_AUTO_FIELD = 'django.db.models.BigAutoField'

```

`config/urls.py`:

```py
"""
URL configuration for config project.
"""

from django.contrib import admin
from django.urls import path

urlpatterns = [
    path('admin/', admin.site.urls),
]

```

`config/wsgi.py`:

```py
"""
WSGI config for config project.
"""

import os
from django.core.wsgi import get_wsgi_application

os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'config.settings')

application = get_wsgi_application()

```

`core/admin.py`:

```py
from django.contrib import admin
from .models import Musician, Band, Concert, Performance, Rehearsal, BandMembership


@admin.register(Musician)
class MusicianAdmin(admin.ModelAdmin):
    list_display = ('first_name', 'last_name', 'phone', 'instrument', 'telegram')
    list_filter = ('instrument',)
    search_fields = ('first_name', 'last_name', 'phone', 'instrument')


@admin.register(Band)
class BandAdmin(admin.ModelAdmin):
    list_display = ('band_name', 'genre', 'founded_date')
    list_filter = ('genre', 'founded_date')
    search_fields = ('band_name', 'genre')


@admin.register(Concert)
class ConcertAdmin(admin.ModelAdmin):
    list_display = ('concert_title', 'venue_address', 'concert_date')
    list_filter = ('concert_date',)
    search_fields = ('concert_title', 'venue_address')
    date_hierarchy = 'concert_date'


@admin.register(Performance)
class PerformanceAdmin(admin.ModelAdmin):
    list_display = ('concert', 'band', 'performance_order')
    list_filter = ('concert', 'band')
    autocomplete_fields = ['concert', 'band']


@admin.register(Rehearsal)
class RehearsalAdmin(admin.ModelAdmin):
    list_display = ('band', 'rehearsal_date', 'duration_minutes', 'location')
    list_filter = ('band', 'rehearsal_date')
    search_fields = ('location', 'band__band_name')
    date_hierarchy = 'rehearsal_date'


@admin.register(BandMembership)
class BandMembershipAdmin(admin.ModelAdmin):
    list_display = ('musician', 'band', 'join_date')
    list_filter = ('band', 'join_date')
    search_fields = ('musician__first_name', 'musician__last_name', 'band__band_name')
    autocomplete_fields = ['musician', 'band']

```

`core/apps.py`:

```py
from django.apps import AppConfig


class CoreConfig(AppConfig):
    default_auto_field = 'django.db.models.BigAutoField'
    name = 'core'

```

`core/forms.py`:

```py
from django import forms
from django.core.exceptions import ValidationError
from django.utils import timezone
from .models import Musician, Band, Concert, BandMembership


class MusicianForm(forms.ModelForm):
    class Meta:
        model = Musician
        fields = '__all__'
    
    def clean_phone(self):
        phone = self.cleaned_data.get('phone')
        if not phone.startswith('+375'):
            raise ValidationError('Phone must start with +375')
        if len(phone) != 13:  # +375 + 9 digits
            raise ValidationError('Phone must be 13 characters long')
        return phone
    
    def clean_telegram(self):
        telegram = self.cleaned_data.get('telegram')
        if telegram and not telegram.startswith('@'):
            raise ValidationError('Telegram username must start with @')
        return telegram


class BandForm(forms.ModelForm):
    class Meta:
        model = Band
        fields = '__all__'
        widgets = {
            'founded_date': forms.DateInput(attrs={'type': 'date'}),
        }
    
    def clean_founded_date(self):
        founded_date = self.cleaned_data.get('founded_date')
        if founded_date > timezone.now().date():
            raise ValidationError('Founded date cannot be in the future')
        return founded_date


class ConcertForm(forms.ModelForm):
    class Meta:
        model = Concert
        fields = '__all__'
        widgets = {
            'concert_date': forms.DateTimeInput(attrs={'type': 'datetime-local'}),
        }
    
    def clean_concert_date(self):
        concert_date = self.cleaned_data.get('concert_date')
        if concert_date < timezone.now():
            raise ValidationError('Concert date cannot be in the past')
        return concert_date


class BandMembershipForm(forms.ModelForm):
    class Meta:
        model = BandMembership
        fields = '__all__'
        widgets = {
            'join_date': forms.DateInput(attrs={'type': 'date'}),
        }
    
    def clean_join_date(self):
        join_date = self.cleaned_data.get('join_date')
        if join_date > timezone.now().date():
            raise ValidationError('Join date cannot be in the future')
        return join_date

```

`core/migrations/0001_initial.py`:

```py
# Generated by Django 5.0.3 on 2025-12-16 07:49

import django.core.validators
import django.db.models.deletion
import django.utils.timezone
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='Band',
            fields=[
                ('band_id', models.AutoField(primary_key=True, serialize=False)),
                ('band_name', models.CharField(max_length=100)),
                ('genre', models.CharField(choices=[('rock', 'Rock'), ('pop', 'Pop'), ('jazz', 'Jazz'), ('blues', 'Blues'), ('classical', 'Classical'), ('electronic', 'Electronic'), ('folk', 'Folk'), ('metal', 'Metal'), ('punk', 'Punk'), ('reggae', 'Reggae'), ('hip-hop', 'Hip-Hop'), ('country', 'Country'), ('funk', 'Funk'), ('soul', 'Soul'), ('r&b', 'R&B'), ('alternative', 'Alternative'), ('indie', 'Indie'), ('hard_rock', 'Hard Rock'), ('progressive', 'Progressive'), ('house', 'House'), ('techno', 'Techno')], max_length=50)),
                ('founded_date', models.DateField(default=django.utils.timezone.now)),
            ],
            options={
                'db_table': 'bands',
            },
        ),
        migrations.CreateModel(
            name='Concert',
            fields=[
                ('concert_id', models.AutoField(primary_key=True, serialize=False)),
                ('concert_title', models.CharField(max_length=200)),
                ('venue_address', models.CharField(max_length=255)),
                ('concert_date', models.DateTimeField(default=django.utils.timezone.now)),
            ],
            options={
                'db_table': 'concerts',
            },
        ),
        migrations.CreateModel(
            name='Musician',
            fields=[
                ('musician_id', models.AutoField(primary_key=True, serialize=False)),
                ('first_name', models.CharField(max_length=50)),
                ('last_name', models.CharField(max_length=50)),
                ('phone', models.CharField(max_length=20, unique=True, validators=[django.core.validators.RegexValidator(message='Phone must be in format +375XXXXXXXXX', regex='^\\+375[0-9]{9}$')])),
                ('telegram', models.CharField(blank=True, max_length=100, null=True, validators=[django.core.validators.RegexValidator(message='Telegram must start with @', regex='^@.+')])),
                ('instrument', models.CharField(choices=[('guitar', 'Guitar'), ('bass', 'Bass'), ('drums', 'Drums'), ('keyboards', 'Keyboards'), ('piano', 'Piano'), ('vocals', 'Vocals'), ('violin', 'Violin'), ('cello', 'Cello'), ('trumpet', 'Trumpet'), ('saxophone', 'Saxophone'), ('trombone', 'Trombone'), ('flute', 'Flute'), ('clarinet', 'Clarinet'), ('accordion', 'Accordion'), ('harp', 'Harp')], max_length=50)),
            ],
            options={
                'db_table': 'musicians',
            },
        ),
        migrations.CreateModel(
            name='Performance',
            fields=[
                ('performance_id', models.AutoField(primary_key=True, serialize=False)),
                ('performance_order', models.PositiveIntegerField()),
                ('band', models.ForeignKey(db_column='band_id', on_delete=django.db.models.deletion.CASCADE, to='core.band')),
                ('concert', models.ForeignKey(db_column='concert_id', on_delete=django.db.models.deletion.CASCADE, to='core.concert')),
            ],
            options={
                'db_table': 'performances',
            },
        ),
        migrations.CreateModel(
            name='Rehearsal',
            fields=[
                ('rehearsal_id', models.AutoField(primary_key=True, serialize=False)),
                ('rehearsal_date', models.DateTimeField(default=django.utils.timezone.now)),
                ('duration_minutes', models.PositiveIntegerField()),
                ('location', models.CharField(max_length=255)),
                ('band', models.ForeignKey(db_column='band_id', on_delete=django.db.models.deletion.CASCADE, to='core.band')),
            ],
            options={
                'db_table': 'rehearsals',
            },
        ),
        migrations.CreateModel(
            name='BandMembership',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('join_date', models.DateField(default=django.utils.timezone.now)),
                ('band', models.ForeignKey(db_column='band_id', on_delete=django.db.models.deletion.CASCADE, to='core.band')),
                ('musician', models.ForeignKey(db_column='musician_id', on_delete=django.db.models.deletion.CASCADE, to='core.musician')),
            ],
            options={
                'db_table': 'band_membership',
                'unique_together': {('band', 'musician')},
            },
        ),
    ]

```

`core/models.py`:

```py
from django.db import models
from django.core.validators import RegexValidator
from django.utils import timezone


class Musician(models.Model):
    INSTRUMENT_CHOICES = [
        ('guitar', 'Guitar'),
        ('bass', 'Bass'),
        ('drums', 'Drums'),
        ('keyboards', 'Keyboards'),
        ('piano', 'Piano'),
        ('vocals', 'Vocals'),
        ('violin', 'Violin'),
        ('cello', 'Cello'),
        ('trumpet', 'Trumpet'),
        ('saxophone', 'Saxophone'),
        ('trombone', 'Trombone'),
        ('flute', 'Flute'),
        ('clarinet', 'Clarinet'),
        ('accordion', 'Accordion'),
        ('harp', 'Harp'),
    ]
    
    musician_id = models.AutoField(primary_key=True)
    first_name = models.CharField(max_length=50)
    last_name = models.CharField(max_length=50)
    phone = models.CharField(
        max_length=20,
        unique=True,
        validators=[
            RegexValidator(
                regex=r'^\+375[0-9]{9}$',
                message='Phone must be in format +375XXXXXXXXX'
            )
        ]
    )
    telegram = models.CharField(
        max_length=100,
        blank=True,
        null=True,
        validators=[
            RegexValidator(
                regex=r'^@.+',
                message='Telegram must start with @'
            )
        ]
    )
    instrument = models.CharField(max_length=50, choices=INSTRUMENT_CHOICES)
    
    class Meta:
        db_table = 'musicians'
    
    def __str__(self):
        return f"{self.first_name} {self.last_name} ({self.instrument})"


class Band(models.Model):
    GENRE_CHOICES = [
        ('rock', 'Rock'),
        ('pop', 'Pop'),
        ('jazz', 'Jazz'),
        ('blues', 'Blues'),
        ('classical', 'Classical'),
        ('electronic', 'Electronic'),
        ('folk', 'Folk'),
        ('metal', 'Metal'),
        ('punk', 'Punk'),
        ('reggae', 'Reggae'),
        ('hip-hop', 'Hip-Hop'),
        ('country', 'Country'),
        ('funk', 'Funk'),
        ('soul', 'Soul'),
        ('r&b', 'R&B'),
        ('alternative', 'Alternative'),
        ('indie', 'Indie'),
        ('hard_rock', 'Hard Rock'),
        ('progressive', 'Progressive'),
        ('house', 'House'),
        ('techno', 'Techno'),
    ]
    
    band_id = models.AutoField(primary_key=True)
    band_name = models.CharField(max_length=100)
    genre = models.CharField(max_length=50, choices=GENRE_CHOICES)
    founded_date = models.DateField(default=timezone.now)
    
    class Meta:
        db_table = 'bands'
    
    def __str__(self):
        return f"{self.band_name} ({self.genre})"


class Concert(models.Model):
    concert_id = models.AutoField(primary_key=True)
    concert_title = models.CharField(max_length=200)
    venue_address = models.CharField(max_length=255)
    concert_date = models.DateTimeField(default=timezone.now)
    
    class Meta:
        db_table = 'concerts'
    
    def __str__(self):
        return f"{self.concert_title} at {self.venue_address}"


class Performance(models.Model):
    performance_id = models.AutoField(primary_key=True)
    band = models.ForeignKey(Band, on_delete=models.CASCADE, db_column='band_id')
    concert = models.ForeignKey(Concert, on_delete=models.CASCADE, db_column='concert_id')
    performance_order = models.PositiveIntegerField()
    
    class Meta:
        db_table = 'performances'
    
    def __str__(self):
        return f"{self.band} at {self.concert} (order: {self.performance_order})"


class Rehearsal(models.Model):
    rehearsal_id = models.AutoField(primary_key=True)
    band = models.ForeignKey(Band, on_delete=models.CASCADE, db_column='band_id')
    rehearsal_date = models.DateTimeField(default=timezone.now)
    duration_minutes = models.PositiveIntegerField()
    location = models.CharField(max_length=255)
    
    class Meta:
        db_table = 'rehearsals'
    
    def __str__(self):
        return f"{self.band} rehearsal at {self.location}"


class BandMembership(models.Model):
    band = models.ForeignKey(Band, on_delete=models.CASCADE, db_column='band_id')
    musician = models.ForeignKey(Musician, on_delete=models.CASCADE, db_column='musician_id')
    join_date = models.DateField(default=timezone.now)
    
    class Meta:
        db_table = 'band_membership'
        unique_together = ('band', 'musician')
    
    def __str__(self):
        return f"{self.musician} in {self.band} since {self.join_date}"

```

`docker-compose.yml`:

```yml
services:
  db:
    image: postgres:15
    environment:
      POSTGRES_DB: concerts_db
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: postgres
    ports:
      - "5433:5432"
    volumes:
      - postgres_data:/var/lib/postgresql/data
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U postgres"]
      interval: 10s
      timeout: 5s
      retries: 5

  web:
    build: .
    volumes:
      - .:/app
    ports:
      - "8000:8000"
    environment:
      - DATABASE_URL=postgres://postgres:postgres@db:5432/concerts_db
      - SECRET_KEY=django-insecure-test-key-12345
      - DEBUG=1
    depends_on:
      db:
        condition: service_healthy

volumes:
  postgres_data:

```

`manage.py`:

```py
"""Django's command-line utility for administrative tasks."""
import os
import sys

def main():
    """Run administrative tasks."""
    os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'config.settings')
    try:
        from django.core.management import execute_from_command_line
    except ImportError as exc:
        raise ImportError(
            "Couldn't import Django. Are you sure it's installed and "
            "available on your PYTHONPATH environment variable? Did you "
            "forget to activate a virtual environment?"
        ) from exc
    execute_from_command_line(sys.argv)

if __name__ == '__main__':
    main()

```

`requirements.txt`:

```txt
asgiref==3.11.0
Django==6.0
psycopg2-binary==2.9.11
sqlparse==0.5.4

```